<div class="container">
    <div class="ui-g">

      <form autocomplete="off" (ngSubmit)="pesquisar()">

        <div class="ui-g-12">
          <h1>Lançamentos</h1>
        </div>

        <div class="ui-g-12 ui-fluid">
          <label >Descrição</label>
          <input pInputText type="text" name="descricao" [(ngModel)]="filtro.descricao">
        </div>

        <div class="ui-g-12">
            <label style="display: block">Vencimento</label>
            <p-calendar dateFormat="dd/MM/yy" [inputStyle]="{width: '95px'}" name="vencimentoInicio"
              [(ngModel)]="filtro.dataVencimentoInicio"></p-calendar>

            <label >até</label>
            <p-calendar dateFormat="dd/MM/yy" [inputStyle]="{width: '95px'}" name="vencimentoFim"
            [(ngModel)]="filtro.dataVencimentoFim"></p-calendar>

        </div>

        <div class="ui-g-12">
          <button pButton type="submit" label="Pesquisar"></button>
        </div>
      </form>

    </div>

    <div class="ui-g">
        <div class="ui-g-12">
            <p-dataTable [value]="lancamentos" [responsive]="true"
              emptyMessage="Nenhum lançamento encontrado" [rows]="filtro.itensPorPagina" [paginator]="true"
              [lazy]="true" [totalRecords]="totalregistros" (onLazyLoad)="aoMudarPagina($event)"
              #tabela>
                <p-column field="pessoa" header="Pessoa"></p-column>
                <p-column field="descricao" header="Descrição"></p-column>
                <p-column field="dataVencimento" header="Vencimento" styleClass="col-data" >
                  <ng-template let-venc="rowData" pTemplate="body">
                    {{venc.dataVencimento | date:'dd/MM/y'}}
                  </ng-template>
                </p-column>
                <p-column field="dataPagamento" header="Pagamento" styleClass="col-data" >
                    <ng-template let-pag="rowData" pTemplate="body">
                        {{pag.dataPagamento | date:'dd/MM/y'}}
                      </ng-template>
                </p-column>
                <p-column field="valor" header="Valor" styleClass="col-valor" >
                  <ng-template let-lanc="rowData" pTemplate="body">
                    <span [style.color]="lanc.tipo === 'DESPESA' ? 'red' : 'blue'">{{lanc.valor | number :'1.2-2'}}</span>
                  </ng-template>
                </p-column>
                <p-column styleClass="col-acoes">
                    <ng-template pTemplate="body" let-lanc="rowData">
                      <a [routerLink]="['lancamentos', lanc.codigo]" pButton icon="fa fa-pencil" pTooltip="Editar" tooltipPosition="top"></a>
                      <button pButton icon="fa fa-trash" pTooltip="Excluir" tooltipPosition="top" (click)="confirmarExclusao(lanc)"></button>
                    </ng-template>
                </p-column>
            </p-dataTable>
        </div>

        <div class="ui-g-12">
          <a routerLink="/lancamentos/novo"pButton label="Novo lançamento"></a>
        </div>

    </div>

  </div>
